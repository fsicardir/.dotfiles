#!/usr/bin/env bash

SESSION="main"
SHELL_W=""
PYTHON_W=""
MONITOR_W=""

tmux has-session -t ${SESSION} &> /dev/null

if [ $? != 0 ]; then
    tmux new-session -d -s "${SESSION}" -n "${SHELL_W}" -c ~

    tmux split-window -h -t "${SESSION}:${SHELL_W}" -c ~

    tmux new-window -n "${PYTHON_W}" -t "${SESSION}" python3

    tmux new-window -n "${MONITOR_W}" -t "${SESSION}" htop

    tmux split-window -h -t "${SESSION}:${MONITOR_W}" journalctl -f
    
    tmux select-window -t "${SESSION}:${SHELL_W}"

    tmux select-pane -t "${SESSION}:${SHELL_W}.1"
fi

tmux attach -t ${SESSION}
