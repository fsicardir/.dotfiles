#!/usr/bin/env bash

SESSION="main"
SHELL_W=" shell"
PYTHON_W=" python"
MONITOR_W=" system"

tmux has-session -t ${SESSION} &> /dev/null

if [ $? != 0 ]; then
    tmux new-session -d -s "${SESSION}" -n "${SHELL_W}" -c ~

    tmux new-window -n "${PYTHON_W}" -t "${SESSION}" python3

    tmux new-window -n "${MONITOR_W}" -t "${SESSION}" -c /

    tmux split-window -h -t "${SESSION}:${MONITOR_W}" htop

    tmux split-window -v -t "${SESSION}:${MONITOR_W}" journalctl -f
    
    tmux resize-pane -L -t "${SESSION}:${MONITOR_W}.1" 30 

    tmux select-pane -t "${SESSION}:${MONITOR_W}.1"

    tmux select-window -t "${SESSION}:${SHELL_W}"

    tmux select-pane -t "${SESSION}:${SHELL_W}.1"
fi

tmux attach -t ${SESSION}
